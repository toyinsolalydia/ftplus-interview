(()=>{"use strict";var e,o={687:(e,o,t)=>{const r=window.wp.blocks,s=window.wp.i18n,n=window.wp.blockEditor,i=window.wp.components,l=window.wp.element,c=window.wp.apiFetch;var a=t.n(c);const p=window.ReactJSXRuntime,d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woo-ftp-block/display-block","version":"1.0.0","title":"WooCommerce Products Display","category":"widgets","icon":"store","description":"Display a list of WooCommerce products.","supports":{"html":false},"attributes":{"numberOfProducts":{"type":"number","default":10},"displayPrice":{"type":"boolean","default":true}},"textdomain":"woo-ftp-block","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}');(0,r.registerBlockType)(d.name,{...d,edit:function({attributes:e,setAttributes:o}){const{numberOfProducts:t,displayPrice:r}=e,[c,d]=(0,l.useState)([]),[u,f]=(0,l.useState)(!0),[w,b]=(0,l.useState)(null),h=(0,n.useBlockProps)();(0,l.useEffect)((()=>{m()}),[t]);const m=async()=>{try{const e=await a()({path:"/woo-ftp-block/v1/products"});d(e),f(!1)}catch(e){b(e.message),f(!1)}};return(0,p.jsxs)("div",{...h,children:[(0,p.jsx)(InspectorControls,{children:(0,p.jsxs)(i.PanelBody,{title:(0,s.__)("Block Settings","woo-ftp-block"),children:[(0,p.jsx)(i.RangeControl,{label:(0,s.__)("Number of Products","woo-ftp-block"),value:t,onChange:e=>o({numberOfProducts:e}),min:1,max:20}),(0,p.jsx)(i.ToggleControl,{label:(0,s.__)("Display Price","woo-ftp-block"),checked:r,onChange:()=>o({displayPrice:!r})})]})}),(0,p.jsx)("div",{className:"woo-ftp-products",children:u?(0,p.jsx)("p",{children:(0,s.__)("Loading products...","woo-ftp-block")}):w?(0,p.jsx)("p",{className:"error",children:w}):(0,p.jsx)("ul",{className:"products-list",children:c.slice(0,t).map((e=>(0,p.jsxs)("li",{className:"product-item",children:[(0,p.jsx)("h4",{children:e.name}),r&&(0,p.jsx)("div",{className:"price",dangerouslySetInnerHTML:{__html:e.price}})]},e.id)))})})]})},save:function(){const e=n.useBlockProps.save();return(0,p.jsx)("div",{...e,children:(0,p.jsx)("div",{className:"woo-ftp-products"})})}})}},t={};function r(e){var s=t[e];if(void 0!==s)return s.exports;var n=t[e]={exports:{}};return o[e](n,n.exports,r),n.exports}r.m=o,e=[],r.O=(o,t,s,n)=>{if(!t){var i=1/0;for(p=0;p<e.length;p++){for(var[t,s,n]=e[p],l=!0,c=0;c<t.length;c++)(!1&n||i>=n)&&Object.keys(r.O).every((e=>r.O[e](t[c])))?t.splice(c--,1):(l=!1,n<i&&(i=n));if(l){e.splice(p--,1);var a=s();void 0!==a&&(o=a)}}return o}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[t,s,n]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={143:0,711:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var s,n,[i,l,c]=t,a=0;if(i.some((o=>0!==e[o]))){for(s in l)r.o(l,s)&&(r.m[s]=l[s]);if(c)var p=c(r)}for(o&&o(t);a<i.length;a++)n=i[a],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(p)},t=globalThis.webpackChunkwoo_ftp_block=globalThis.webpackChunkwoo_ftp_block||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var s=r.O(void 0,[711],(()=>r(687)));s=r.O(s)})();