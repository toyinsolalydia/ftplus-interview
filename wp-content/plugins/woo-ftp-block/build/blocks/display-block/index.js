(()=>{"use strict";var e,o={687:(e,o,t)=>{const s=window.wp.blocks,r=window.wp.i18n,i=window.wp.blockEditor,n=window.wp.components,l=window.wp.element,c=window.wp.apiFetch;var a=t.n(c);const p=window.ReactJSXRuntime,d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woo-ftp-block/display-block","version":"1.0.0","title":"WooCommerce Products Display","category":"widgets","icon":"store","description":"Display a list of WooCommerce products.","supports":{"html":false},"attributes":{"numberOfProducts":{"type":"number","default":10},"displayPrice":{"type":"boolean","default":true}},"textdomain":"woo-ftp-block","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');(0,s.registerBlockType)(d.name,{...d,edit:function({attributes:e,setAttributes:o}){const{numberOfProducts:t,displayPrice:s}=e,[c,d]=(0,l.useState)([]),[u,f]=(0,l.useState)(!0),[w,b]=(0,l.useState)(null),m=(0,i.useBlockProps)();(0,l.useEffect)((()=>{h()}),[t]);const h=async()=>{try{const e=await a()({path:"/woo-ftp-block/v1/products"});d(e),f(!1)}catch(e){b(e.message),f(!1)}};return(0,p.jsxs)("div",{...m,children:[(0,p.jsx)(InspectorControls,{children:(0,p.jsxs)(n.PanelBody,{title:(0,r.__)("Block Settings","woo-ftp-block"),children:[(0,p.jsx)(n.RangeControl,{label:(0,r.__)("Number of Products","woo-ftp-block"),value:t,onChange:e=>o({numberOfProducts:e}),min:1,max:20}),(0,p.jsx)(n.ToggleControl,{label:(0,r.__)("Display Price","woo-ftp-block"),checked:s,onChange:()=>o({displayPrice:!s})})]})}),(0,p.jsx)("div",{className:"woo-ftp-products",children:u?(0,p.jsx)("p",{children:(0,r.__)("Loading products...","woo-ftp-block")}):w?(0,p.jsx)("p",{className:"error",children:w}):(0,p.jsx)("ul",{className:"products-list",children:c.slice(0,t).map((e=>(0,p.jsxs)("li",{className:"product-item",children:[(0,p.jsx)("h4",{children:e.name}),s&&(0,p.jsx)("div",{className:"price",dangerouslySetInnerHTML:{__html:e.price}})]},e.id)))})})]})},save:function(){const e=i.useBlockProps.save();return(0,p.jsx)("div",{...e,children:(0,p.jsx)("div",{className:"woo-ftp-products"})})}})}},t={};function s(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return o[e](i,i.exports,s),i.exports}s.m=o,e=[],s.O=(o,t,r,i)=>{if(!t){var n=1/0;for(p=0;p<e.length;p++){for(var[t,r,i]=e[p],l=!0,c=0;c<t.length;c++)(!1&i||n>=i)&&Object.keys(s.O).every((e=>s.O[e](t[c])))?t.splice(c--,1):(l=!1,i<n&&(n=i));if(l){e.splice(p--,1);var a=r();void 0!==a&&(o=a)}}return o}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[t,r,i]},s.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return s.d(o,{a:o}),o},s.d=(e,o)=>{for(var t in o)s.o(o,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},s.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={143:0,711:0};s.O.j=o=>0===e[o];var o=(o,t)=>{var r,i,[n,l,c]=t,a=0;if(n.some((o=>0!==e[o]))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(c)var p=c(s)}for(o&&o(t);a<n.length;a++)i=n[a],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(p)},t=globalThis.webpackChunkwoo_ftp_block=globalThis.webpackChunkwoo_ftp_block||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var r=s.O(void 0,[711],(()=>s(687)));r=s.O(r)})();